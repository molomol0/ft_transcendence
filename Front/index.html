<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Pong Game</title>
    <link rel="stylesheet" href="styles.css">
</head>

<body>
    <div id="logged-in-user"></div>
    <div id="login-signup" class="active">
        <h2>Login or Signup</h2>
        <form id="signin-form">
            <h3>Sign In</h3>
            <input type="email" id="signin-email" placeholder="Email" required>
            <input type="password" id="signin-password" placeholder="Password" required>
            <button type="submit">Login</button>
        </form>
        <form id="signup-form">
            <h3>Sign Up</h3>
            <input type="email" id="signup-email" placeholder="Email" required>
            <input type="password" id="signup-password" placeholder="Password" required>
            <input type="password" id="signup-password2" placeholder="Confirm Password" required>
            <input type="text" id="signup-username" placeholder="Username" required>
            <button type="submit">Signup</button>
        </form>
        <button id="oauth-button">Login with 42</button>
    </div>
    <div id="main-menu">
        <h2>Main Menu</h2>
        <button onclick="searchGame()">Launch Duel</button>
        <button onclick="viewProfile()">View Profile</button>
        <button onclick="showSettings()">Settings</button>
        <button onclick="showChat()">Chat</button>
        <button id="logout-button">Logout</button>
        <ul id="user-list"></ul>
        <div id="friend-requests">
            <h3>Friend Requests</h3>
            <form id="search-user-form" style="position: relative;">
                <input type="text" id="search-username" placeholder="Search Username" required style="width: 100%;">
                <div id="search-results"></div> <!-- Move inside form to ensure same width and position -->
            </form>
        </div>
        <ul id="friend-request-list"></ul>
        <div id="threejs-container"></div>
        <div id="profile-info">
            <h3>Profile Information</h3>
            <p id="profile-username"></p>
            <p id="profile-email"></p>
            <img id="profile-image" src="" alt="Profile Image">
        </div>
        <div id="matches-info">
            <h3>Match Information</h3>
            <div id="matches-list"></div>
        </div>
        <div id="settings-info">
            <h3>Update Profile Information</h3>
            <form id="update-profile-form">
                <input type="text" id="update-username" placeholder="New Username">
                <input type="email" id="update-email" placeholder="New Email">
                <button type="submit">Update</button>
            </form>
            <h3>Profile Image</h3>
            <img id="settings-profile-image" src="" alt="Profile Image"
                style="width: 150px; height: 150px; border-radius: 50%; margin-top: 10px;">
            <form id="upload-image-form">
                <input type="file" id="upload-image" accept="image/*">
                <button type="submit">Upload Image</button>
            </form>
            <h3>Change Password</h3>
            <form id="change-password-form">
                <input type="password" id="old-password" placeholder="Old Password" required>
                <input type="password" id="new-password" placeholder="New Password" required>
                <button type="submit">Change Password</button>
            </form>
        </div>
        <div id="chat-interface">
            <h3>Chat</h3>
            <div class="chat-input">
                <input type="text" id="chat-user-id" placeholder="Enter User ID">
                <button onclick="startChat()">Connect</button>
            </div>
            <div class="chat-messages" id="chat-messages"></div>
            <div class="chat-input">
                <input type="text" id="chat-message-input" placeholder="Type your message...">
                <button onclick="sendChatMessage()">Send</button>
            </div>
        </div>
        <div id="duel-elements">
            <div id="scoreboard">
                <span id="score-left">0</span> - <span id="score-right">0</span>
            </div>
            <button id="start-game-button">Start Game</button>
        </div>
    </div>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/three.js/r128/three.min.js"></script>
    <script src="js/app.js"></script>
    <script src="js/auth.js"></script>
</body>

</html>